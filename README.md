# üöÄ n8n + Postgres + Portainer + NPM Auto-Installer

![Docker](https://img.shields.io/badge/Docker-2496ED?style=for-the-badge&logo=docker&logoColor=white)
![Linux](https://img.shields.io/badge/Linux-FCC624?style=for-the-badge&logo=linux&logoColor=black)
![Bash](https://img.shields.io/badge/Bash-4EAA25?style=for-the-badge&logo=gnu-bash&logoColor=white)

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –º–æ—â–Ω–æ–≥–æ —Å—Ç–µ–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –Ω–∞ —á–∏—Å—Ç–æ–º VPS (Ubuntu/Debian).

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç:
*   **n8n** (Workflow Automation) ‚Äî —Å backend'–æ–º –Ω–∞ PostgreSQL (–≤–º–µ—Å—Ç–æ SQLite).
*   **PostgreSQL** ‚Äî –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è n8n.
*   **Portainer CE** ‚Äî —É–¥–æ–±–Ω—ã–π UI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏.
*   **Nginx Proxy Manager (NPM)** ‚Äî –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ–º–µ–Ω–∞–º–∏ –∏ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏.

## ‚ú® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
*   ‚ö° **–ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞:** –í–µ—Å—å —Å—Ç–µ–∫ –ø–æ–¥–Ω–∏–º–∞–µ—Ç—Å—è –∑–∞ 2-3 –º–∏–Ω—É—Ç—ã.
*   üîí **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** Portainer –Ω–∞ HTTPS (–ø–æ—Ä—Ç 9443), –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å–µ—Ç–∏ Docker.
*   üíæ **–ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ:** –í—Å–µ –¥–∞–Ω–Ω—ã–µ –º–æ–Ω—Ç–∏—Ä—É—é—Ç—Å—è –≤ `/docker_volumes`.
*   üõ† **–£–¥–æ–±—Å—Ç–≤–æ:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–∞—Ä–æ–ª–µ–π –¥–ª—è –ë–î.

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
*   –ß–∏—Å—Ç—ã–π —Å–µ—Ä–≤–µ—Ä (VPS) —Å Ubuntu 20.04 / 22.04 / 24.04.
*   –ù–∞–ª–∏—á–∏–µ –¥–æ–º–µ–Ω–Ω–æ–≥–æ –∏–º–µ–Ω–∏ –∏ –¥–æ—Å—Ç—É–ø –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ A-–∑–∞–ø–∏—Å–µ–π –≤ DNS. –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –º–æ–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Å–µ—Ä–≤–∏—Å–æ–º freedns
*   –ü—Ä–∞–≤–∞ `root` –∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å `sudo`.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
–ó–∞–π–¥–∏—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä –ø–æ SSH –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É:
wget -O install.sh https://raw.githubusercontent.com/KhabibullinMax/easy-n8n/main/install.sh && chmod +x install.sh && ./install.sh


–õ–∏–±–æ –≤—Ä—É—á–Ω—É—é:
1. –°–∫–∞—á–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç `install.sh`.
2. –î–∞–π—Ç–µ –ø—Ä–∞–≤–∞: `chmod +x install.sh`.
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ: `./install.sh`.

## ‚öôÔ∏è –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ (–í–∞–∂–Ω–æ!)

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã —Å–∫—Ä–∏–ø—Ç–∞, –≤–∞–º –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

### 1. Portainer (–°—Ä–æ—á–Ω–æ!)
üî¥ **–í–Ω–∏–º–∞–Ω–∏–µ:** –£ –≤–∞—Å –µ—Å—Ç—å **5 –º–∏–Ω—É—Ç** –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏, —á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å –∞–¥–º–∏–Ω–∞ –≤ Portainer. –ò–Ω–∞—á–µ –æ–Ω –∑–∞–±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è (Security timeout).
*   –ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ: `https://your-domain:9443` (–∏–ª–∏ `https://IP-ADDRESS:9443`)
*   –ü—Ä–∏–º–∏—Ç–µ —Ä–∏—Å–∫ —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω–æ–≥–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞.
*   –°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø–∞—Ä–æ–ª—å.

### 2. Nginx Proxy Manager (NPM)
*   –ê–¥–º–∏–Ω–∫–∞: `http://IP-ADDRESS:81`
*   –õ–æ–≥–∏–Ω: `admin@example.com`
*   –ü–∞—Ä–æ–ª—å: `changeme` (—Å–º–µ–Ω–∏—Ç–µ –ø—Ä–∏ –≤—Ö–æ–¥–µ!)

–í NPM —Å–æ–∑–¥–∞–π—Ç–µ **Proxy Hosts** –¥–ª—è –≤–∞—à–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤:

| –°–µ—Ä–≤–∏—Å | Domain Name | Forward Hostname / IP | Forward Port | Scheme | –û–ø—Ü–∏–∏ |
| :--- | :--- | :--- | :--- | :--- | :--- |
| **n8n** | `n8n.site.com` | IP –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ | `5678` | `http` | Websockets Support |
| **Portainer** | `portainer.site.com` | IP –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ | `9443` | `https` | Websockets Support |
| **NPM** | `nginx.site.com` | IP –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ | `81` | `http` | Websockets Support |

*–ù–µ –∑–∞–±—É–¥—å—Ç–µ –≤–∫–ª—é—á–∏—Ç—å **Force SSL** –∏ –ø–æ–ª—É—á–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç Let's Encrypt –Ω–∞ –≤–∫–ª–∞–¥–∫–µ SSL.*

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫
–í—Å–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –∑–¥–µ—Å—å:
*   `/docker_volumes/n8n_data` ‚Äî –î–∞–Ω–Ω—ã–µ n8n
*   `/docker_volumes/postgres_n8n` ‚Äî –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
*   `/docker_volumes/npm_data` ‚Äî –ù–∞—Å—Ç—Ä–æ–π–∫–∏ NPM
*   `/opt/n8n` ‚Äî Docker-compose —Ñ–∞–π–ª—ã n8n
*   `/opt/npm` ‚Äî Docker-compose —Ñ–∞–π–ª—ã NPM

## ü§ù –°–≤—è–∑—å —Å –∞–≤—Ç–æ—Ä–æ–º
*   **site:** [khabibullin.ru](https://khabibullin.ru)
*   **tg:** [–ú–∞–∫—Å –•–∞–±–∏–±—É–ª–ª–∏–Ω](https://t.me/maxkhabibullin)
*   **Telegram –∫–∞–Ω–∞–ª:** [–ù–µ –µ—à—å —Å –Ω–æ–∂–∞!](https://t.me/not_with_a_knife)